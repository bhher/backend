!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){var i=n(3),o={};t.set=function(e){o=e;for(var t=0;o.ingress&&t<o.ingress.length;t++){var n=o.ingress[t],r=null==n.freq?1:n.freq;for(var a in n.enabled=Math.random()<r,n.endpoints){var s=n.endpoints[a],d=null==s.freq?1:s.freq;for(var u in s.enabled=Math.random()<d,s.eventSources){var c=s.eventSources[u],f=null==c.freq?1:c.freq;c.enabled=Math.random()<f}}}i.enableDebug(!0===o.debug)},t.get=function(){return o},t.getVersion=function(){return"production-35"},t.forEachIngress=function(e,t,n,i){for(var o=0;e.ingress&&o<e.ingress.length;o++){var r=e.ingress[o];if(r.enabled){var a=r.endpoints[t]||r.endpoints.default;if(a&&a.enabled){var s=a.eventSources?a.eventSources[n]||a.eventSources.default:void 0;if(!s||s.enabled){var d=a.path.replace(/{eventSource}/g,n);i(r.domain+d)}}}}}},function(e,t,n){var i=n(0),o=n(7),r=n(3),a=n(8),s=n(4),d={error:1,warn:2,info:3,debug:4};function u(e){return i.get().logLevel>=e}function c(e,t,n,o){if(r.isDebugEnabled()){var s=n[0],d=[].slice.call(n).slice(1);r.addLog(e,s,d,Math.floor(a.now()))}window.console[e]&&u(t)&&console[e].apply(console,function(e,t,n){return e=[].slice.call(e),i.get().logFormat?(t&&e.unshift(t),e.unshift("display: inline-block; color: #fff; background: "+n+"; padding: 1px 4px; border-radius: 3px;"),e.unshift("%cArgus")):e.unshift("Argus"),e}(n,e.toUpperCase()+":",o))}t.level=d,t.enabled=u,t.errorNoPost=function(){c("error",d.error,arguments,"#ff0000")},t.error=function(){c("error",d.error,arguments,"#ff0000"),o.queue("argus",{log:s.serializeArguments(arguments),stack:(new Error).stack})},t.warn=function(){c("warn",d.warn,arguments,"#ffe600")},t.info=function(){c("info",d.info,arguments,"#3b88a3")},t.debug=function(){c("debug",d.debug,arguments,"#808080")}},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(8),a=n(14),s=n(1),d={sv:3,av:n(0).getVersion(),domain:void 0,href:window.location.href,id:"10000000-1000-4000-8000-100000000000".replace(/1|0/g,(function(){return(0|16*Math.random()).toString(16)})),init:r.startTime(),tzOffset:r.getTimezoneOffset(),tz:r.getTimezoneString(),device:{}};window._snigelConfig&&window._snigelConfig.site?d.domain=window._snigelConfig.site:window.snigelPubConf&&window.snigelPubConf.argus&&(d.domain=window.snigelPubConf.argus.domain);try{d.device=a.autoDetect()}catch(e){s.error("Failed to detect device",e)}var u=0;t.setCounter=function(e){e.session&&(e.session.counter=u++)},t.get=function(){return d},t.createEvent=function(e){return e.session=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},d),e.session.now=r.now(),e}},function(e,t){var n={auction:{},history:{events:[],logs:[],all:[],getEvents:function(e,t){return n.history.events.slice(e,t)},getPbjsEvents:function(){return n.history.events.filter((function(e){return"pbjs"==e.source}))},getGptEvents:function(){return n.history.events.filter((function(e){return"gpt"==e.source}))},getPbjsGptEvents:function(){return n.history.events.filter((function(e){return"pbjs"==e.source||"gpt"==e.source}))}}};function i(){return n}t.getInfo=i;var o=!1;t.enableDebug=function(e){e&&(o=!0,window.argus.getDebugInfo=i)},t.isDebugEnabled=function(){return o},t.addEvent=function(e,t,i,o){var r={source:e,eventType:t,args:i,elapsedTime:o};n.history.events.push(r),n.history.all.push(r)},t.addLog=function(e,t,i,o){var r={source:"log",eventType:e,message:t,args:i,elapsedTime:o};n.history.logs.push(r),n.history.all.push(r)}},function(e,t){function n(e,t){return e?JSON.parse(JSON.stringify(e,t)):e}function i(e){try{if(!e)return e;for(var t=[].slice.call(e),n=0;n<t.length;n++){var i=t[n];i instanceof Error&&(t[n]={message:i.message,stack:i.stack})}return t}catch(e){}return e}t.cloneObject=n,t.mergeObject=function(e,t){if(!e||!t)return e;for(var n in t)e[n]=t[n];return e},t.serializePbjsEvent=function(e){var t=["documentContext"],o=n(e,(function(e,n){return t.indexOf(e)<0?n:void 0}));return"auctionDebug"==e.eventType&&e.arguments&&(o.arguments=i(e.arguments)),o},t.serializeGptEvent=function(e){var t=["constructor","slot"],i=n(e,(function(e,n){return t.indexOf(e)<0?n:void 0}));return i.slot=function(e){var t=["getName","getServices","getSlotId","getTargeting","getFirstLook","getHtml"],n={};for(var i in e)i.startsWith("get")&&i.length>3&&t.indexOf(i)<0&&(n[i]=JSON.parse(JSON.stringify(e[i]())));return n}(e.slot),i},t.serializeArguments=i},function(e,t,n){var i=n(6),o=n(8),r=n(0);function a(e){return e===i.undefined}t.isUndefined=a,t.valueWhenUndefined=function(e,t){return a(e)?t:e},t.updateValueWhenUndefined=function(e,t,n){a(e[t])&&(e[t]=n)},t.validateTimeNow=function(e){if(e=Math.floor(e),r.get().noTimeValidation)return e;var t=o.now();return!e||e>t||e<(t>5e3?t-5e3:0)?t:e},t.getSafeTimeDiff=function(e,t,n){return e>t?n||0:Math.floor(t-e)},t.toIntegerIfPossible=function(e){if(Number.isInteger(e))return e;if("string"==typeof e){var t=Number(e);if(Number.isInteger(t))return t}return e}},function(e,t){t.undefined=void 0,t.channel={pb:"pb",pbs:"pbs",aps:"aps",gpt:"gpt"},t.state={noBid:"noBid",bidTimeout:"bidTimeout",bidResponseTimeout:"bidResponseTimeout",bidResponse:"bidResponse",bidRejected:"bidRejected",bidAuctionWon:"bidAuctionWon",bidWon:"bidWon",bidImp:"imp"},t.bidder={amazon:"amazon",gam:"gam",unfilled:"unfilled",unused:"unused"},t.mediaType={banner:"banner",video:"video",native:"native"}},function(e,t,n){var i=n(0),o=n(1),r=n(2),a=n(10),s=n(9),d={},u=[];function c(){try{for(var e of u)p(e.eventSource,e.event)}catch(e){o.errorNoPost("Failed to flush error queue",e)}u=[]}t.flush=c,t.queue=function(e,t){var n=i.get(),a=s.hexCode(e+JSON.stringify(t));d[a]||(d[a]=!0,o.debug("Queuing error event",t),u.push({eventSource:e,event:r.createEvent({error:t})}),1==u.length&&setTimeout(c,n.errorQueueDelay))};var f=!1;function p(e,t){var n=i.get();if(f)o.errorNoPost("Recursive error reporting canceled");else{f=!0;try{t.session||(t=r.createEvent({error:t})),r.setCounter(t),i.forEachIngress(n,"error",e,(function(e){a.post(e,t,!0)}))}catch(e){o.errorNoPost("Error reporting failed",e)}f=!1}}t.post=p},function(e,t){var n=window.performance,i=Math.floor(Date.now()-(n&&n.now?n.now():0));t.startTime=function(){return i},t.getTimezoneOffset=function(){return(new Date).getTimezoneOffset()},t.getTimezoneString=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone||(new Date).toTimeString().slice(9)},t.now=n&&n.now?function(){return Math.floor(n.now())}:function(){return Date.now()-i}},function(e,t){function n(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}t.code=n,t.hexCode=function(e){for(var t=(n(e)>>>0).toString(16);t.length<8;)t="0"+t;return t}},function(e,t,n){var i=n(1),o=n(9),r=n(0);t.post=function(e,t,n){var a=JSON.stringify(t);(function e(t,n,o,a,s){var d=new XMLHttpRequest;function u(u){if(d.status<200||d.status>=300){var c=r.get();s<c.requestRetryMax&&!(d.status>=300&&d.status<=499)?setTimeout((function(){e(t,n,o,a,s+1)}),c.requestRetryDelay):i[a?"errorNoPost":"error"]("Failed sending to "+t+", reason: "+u.type+", status: "+d.status+", statusText: "+d.statusText,o)}}d.open("POST",t,!0),d.setRequestHeader("Content-Type","text/plain"),d.onload=function(){i.enabled(i.level.info)&&i.info("Sent to "+t,JSON.parse(n))},d.onerror=u,d.onabort=u,d.ontimeout=u,d.onload=u,d.send(n)})(e=e+"?id="+(o.code(a)+2147483648),a,t,n,0)}},function(e,t,n){var i=n(1),o=n(9),r=n(12),a=n(6),s=n(0),d=n(5),u=n(4),c=n(3),f=0;var p=0;function g(){return p++}var l={};var b={};var v={};function m(e){return void 0===v[e]&&(v[e]={pbjs:void 0,lastPbjsAuction:void 0,lastGptAuction:void 0,activeGptAuction:void 0}),v[e]}var h,w={};function I(e){return w[e]}function y(e){return e.id?e.id:e}function j(e,t){var n={id:e,start:t,end:void 0,event:{counter:f++,start:t,time:void 0,w:window.innerWidth,h:window.innerHeight,pbjs:void 0,gpt:void 0,adUnits:[]},adUnitsMap:{},bidIdHashMap:{},pbjs:{}};return w[e]=n,i.debug("Creating new auction "+n.id),n}function E(e,t,n){var i,o,r=m(t.code),a={code:t.code,name:t.name,path:t.adUnitPath||t.path,sizes:t.sizes||[],refresh:(i=t.code,void 0===l[i]?l[i]=0:l[i]++,l[i]),bids:[]};t.variant&&(a.variant=parseInt(t.variant)),t.snigel&&(t.snigel.variant&&(a.variant=parseInt(t.snigel.variant)),t.snigel.exp&&(a.exp=t.snigel.exp)),a.name||(t.snigel&&t.snigel.adUnitName?a.name=t.snigel.adUnitName:t.pubstack&&t.pubstack.adUnitName?a.name=t.pubstack.adUnitName:t.placementName?a.name=t.placementName:r.pbjs&&r.pbjs.name?a.name=r.pbjs.name:n||(a.name=a.code)),a.name&&(a.placementCounter=(o=a.name,void 0===b[o]?b[o]=0:b[o]++,b[o])),a.path||(t.snigel&&t.snigel.adUnitPath?a.path=t.snigel.adUnitPath:t.pubstack&&t.pubstack.adUnitPath?a.path=t.pubstack.adUnitPath:t.codes&&Array.isArray(t.codes)&&t.codes.length>=1&&(a.path=t.codes[0])),n&&(r.pbjs=r.pbjs||{},r.pbjs.code=a.code,r.pbjs.name=a.name,r.pbjs.path=a.path),e.event.adUnits.push(a);var s={adUnitObj:a,addedToEvent:!0,bidWonAdded:!1,bidImpAdded:!1,bidsMap:{},gpt:{}};return e.adUnitsMap[a.code]=s,s}function U(e,t,n){function i(n){return"Cannot find "+n+" for auctionId: "+y(e)+", adUnitCode: "+t}var o=function(e){return e.id?e:w[e]}(e);if(!o){if(n)return;throw new Error(i("auction"))}var r=o.adUnitsMap[t];if(!r){if(n)return;throw new Error(i("ad-unit"))}return{auction:o,adUnit:r.adUnitObj,adUnitsMapEntry:r}}function A(e,t,n,i,o){var r=U(e,t);if(r){var a=r.adUnitsMapEntry.bidsMap[n];if(a&&i&&(a=a.bidResponses.find(e=>e.adId==i)),!a){if(o)return;throw new Error("Cannot find bid for auctionId: "+y(e)+", adUnitCode: "+t+", bidId: "+n+", adId: "+i)}return a}}function T(e,t,n){if(!e||!t)throw new Error("Cannot create bid, bidder: "+e+", channel: "+t);return{counter:g(),bidder:e,id:void 0,channel:t,requestCount:1,state:n}}function O(e,t,n,i,o,r){var s=U(e,t);s.adUnitsMapEntry.addedToEvent||(s.adUnitsMapEntry.addedToEvent=!0,s.auction.event.adUnits.push(s.adUnit)),void 0===i.counter&&(i.counter=g());var d=s.adUnitsMapEntry.bidsMap[n],c=n==a.state.bidWon,f=n==a.state.bidImp;if(c&&r&&(i.state=a.state.bidImp),d&&(c||f)){if(c&&!r&&d.bid.state==a.state.bidImp){var p=u.mergeObject({bid:u.cloneObject(d.bid)},s);d.bidImpInfo=p,s.adUnitsMapEntry.bidsMap[a.state.bidImp]=p,s.adUnitsMapEntry.bidImpAdded&&s.adUnit.bids.push(p.bid)}i=u.mergeObject(d.bid,i),(c&&!s.adUnitsMapEntry.bidWonAdded||f&&!s.adUnitsMapEntry.bidImpAdded)&&(i.update=(i.update||0)+1,s.adUnit.bids.push(i),c?s.adUnitsMapEntry.bidWonAdded=!0:s.adUnitsMapEntry.bidImpAdded=!0)}else if(d&&o){for(var l=s.adUnit.bids,b=l.length,v=b-1;v>=0;v--)if(l[v].counter==i.counter){b=v+1;break}l.splice(b,0,i);var m=d;d=u.mergeObject({bid:i,adId:o},s),m.bidResponses.push(d)}else{if(d&&!c)throw new Error("Bid already exists for auctionId: "+y(e)+", adUnitCode: "+t+", bidId: "+n+", bidCounter: "+i.counter);s.adUnit.bids.push(i),d=u.mergeObject({bid:i,bidResponses:[]},s),s.adUnitsMapEntry.bidsMap[n]=d,c?(r&&(s.adUnitsMapEntry.bidsMap[a.state.bidImp]=d,d.bidImpInfo=d,s.adUnitsMapEntry.bidImpAdded=!0),s.adUnitsMapEntry.bidWonAdded=!0):f&&(s.adUnitsMapEntry.bidImpAdded=!0)}return d}function P(e){return e.adUnitsMapEntry.bidsMap[a.state.bidWon]}function M(e,t,n,i,o,r){function s(e,t,n,o){var r=U(e,t,!0);if(r){var s=P(r);if(!s)return O(r.auction,r.adUnit.code,a.state.bidWon,n,a.undefined,i);if((!o||d.getSafeTimeDiff(r.start,o)<1e4)&&s.bid.channel==a.channel.gpt)return O(r.auction,r.adUnit.code,a.state.bidWon,n,a.undefined,i)}}var u;if(r){var c=m(t);if(c.lastPbjsAuction&&c.lastPbjsAuction.id==y(e)&&(u=s(e,t,n)))return u;if(c.lastGptAuction&&(u=s(c.lastGptAuction,t,n,o)))return u;if(c.activeGptAuction&&(u=s(c.activeGptAuction,t,n,o)))return u;if(c.lastPbjsAuction&&(u=s(c.lastPbjsAuction,t,n,o)))return u;if(u=s(e,t,n,o))return u}else if(u=s(e,t,n))return u;if(o)return M(e,t,n,i,void 0,r);throw new Error("Failed to add bidWon for auctionId: "+y(e)+", adUnitCode: "+t+", bidCounter: "+n.counter)}function S(e){try{N(e),function(e){for(var t in e.adUnitsMap)if(e.adUnitsMap[t].addedToEvent)return!0;return!1}(e)&&I(e.id)&&(function(e){function t(e){return e.state==a.state.bidWon||e.state==a.state.bidImp}function n(e,n,i){for(var o=0;o<e.bids.length;o++){var r=e.bids[o];if(!t(r))for(var a=o+1;a<e.bids.length;a++){var s=e.bids[a];if(!t(s)&&n(r,s)){if(!r.cpm||s.cpm>=r.cpm){i(s,r),e.bids.splice(o,1),o--;break}i(r,s),e.bids.splice(a,1),a--}}}}e.event.adUnits.forEach((function(e){n(e,(function(e,t){return e.counter==t.counter}),(function(e,t){})),n(e,(function(e,t){return e.bidder==t.bidder}),(function(e,t){e.requestCount+=t.requestCount}))}))}(e),function(e){e.event.adUnits.forEach((function(e){for(var t=0;t<e.bids.length;t++){var n=e.bids[t];n.channel===a.channel.pbs&&(n.state===a.state.noBid&&void 0===n.serverResponseTime?(e.bids.splice(t,1),t--):n.state===a.state.bidTimeout&&(n.serverResponseTime=void 0))}}))}(e),function(e){e.event.adUnits.forEach((function(e){for(var t=-1,n=0,i=0;i<e.bids.length;i++){var o=e.bids[i];o.state==a.state.bidResponse&&o.cpm>=n&&(t=i,n=o.cpm)}t>=0&&(e.bids[t].state=a.state.bidAuctionWon)}))}(e),s.get().pbjsIgnoreUnfilledUnusedImp||function(e){d.isUndefined(e.event.gpt)&&e.event.adUnits.forEach((function(t){if(t.bids.length>0){for(var n,i=!1,o=!1,r=0;r<t.bids.length;r++){var s=t.bids[r];if(s.state===a.state.bidWon||s.state===a.state.bidImp){o=!0,i=!0;break}s.state!==a.state.bidResponse&&s.state!==a.state.bidAuctionWon||(i=!0)}if(!o)null===document.getElementById(t.code)?n=T(a.bidder.unused,a.channel.pb,a.state.bidWon):i||(n=T(a.bidder.unfilled,a.channel.pb,a.state.bidWon)),n&&(n.responseTime=e.event.time,M(e,t.code,n,!0,a.undefined,!0))}}))}(e),i.enabled(i.level.info)&&i.info("Sending event of auction "+e.id,e,u.cloneObject(e.event)),r.post("auction","auction",{auction:e.event}),function(e){var t={};for(var n in e.event)"adUnits"==n?t.adUnits=[]:t[n]=e.event[n];for(var i in e.adUnitsMap)e.adUnitsMap[i].addedToEvent=!1,e.adUnitsMap[i].bidWonAdded=!1,e.adUnitsMap[i].bidImpAdded=!1,e.adUnitsMap[i].adUnitObj.bids=[];e.event=t}(e),function(){var e,t=0,n=f;for(var i in w){t++;var o=w[i].event.counter;o<n&&(n=o,e=i)}t>100&&delete w[e]}())}catch(e){i.error("postAuctionEvent",e)}}function C(e,t){return!e.postEventTimerId&&(i.debug("Start timer for auction "+e.id),e.postEventTimerId=setTimeout((function(){S(e)}),t),!0)}function N(e){e.postEventTimerId&&(i.debug("Cancel timer for auction "+e.id),clearTimeout(e.postEventTimerId),delete e.postEventTimerId)}c.getInfo().auction={globalAuctions:w,globalLastPbjsAuction:h,globalAdUnitStatus:v,reset:function(){f=0,p=0,l={},b={},v={},w={},h=void 0}},t.getAuction=I,t.getActiveGptAuction=function(e){return m(e).activeGptAuction},t.initPbjsAuction=function(e,t){var n=w[e.auctionId];return n||((n=j(e.auctionId,t)).pbjs.initEvent=e,n.event.pbjs={start:n.start,time:void 0,timeout:d.toIntegerIfPossible(e.timeout)},e.adUnits.forEach((function(e){var t,i=null===(t=n.adUnitsMap[e.code])||void 0===t?void 0:t.adUnitObj;if(i){if(e.sizes)for(var o=0;o<e.sizes.length;o++){for(var r=e.sizes[o],a=0;a<i.sizes.length;a++){var s=i.sizes[a];if(s[0]===r[0]&&s[1]===r[1]){r=void 0;break}}r&&i.sizes.push(r)}}else i=E(n,e,!0)}))),n},t.endPbjsAuction=function(e,t,n){for(var o in e.pbjs.endEvent=t,e.event.pbjs.time=d.getSafeTimeDiff(e.event.pbjs.start,n),e.event.pbjs.time||(e.event.pbjs.time=t.auctionEnd-t.timestamp),e.event.time=e.event.pbjs.time,e.adUnitsMap){i.debug("Set last pbjs auction "+e.id+" for ad-unit "+o),m(o).lastPbjsAuction=e}h=e},t.initGptAuction=function(e,t){var n,i=e.slot.getSlotElementId(),o=m(i);function r(e,t){var n=e.adUnitsMap[t];return!n||d.isUndefined(n.gpt.start)}n=o.lastPbjsAuction&&r(o.lastPbjsAuction,i)?o.lastPbjsAuction:h&&r(h,i)?h:j("gpt"+f,t),o.activeGptAuction=n;var a=n.adUnitsMap[i];if(a)a.adUnitObj.path||(a.adUnitObj.path=e.slot.getAdUnitPath());else{var s={code:i,adUnitPath:e.slot.getAdUnitPath(),sizes:[]},u=e.slot.getSizes();u&&u.forEach((function(e){var t=e.width,n=e.height;if("string"==typeof e)t=n=1;else if(isNaN(t)||t<1||isNaN(n)||n<1)throw new Error("Size is NaN, w: "+t+", h: "+n);s.sizes.push([t,n])})),a=E(n,s)}return a.gpt.start=a.gpt.start||t,a.gpt.targetingMap=a.gpt.targetingMap||e.slot.getTargetingMap(),n.event.gpt||(n.event.gpt={start:t,time:void 0},N(n)),n},t.endAdUnitAuction=function(e,t,n,i){function o(e){return!d.isUndefined(e.gpt.start)&&!0!==e.gpt.renderEnded}e.end=n;var r=d.getSafeTimeDiff(e.start,e.end);if((!e.event.time||r>e.event.time)&&(e.event.time=r),!o(t.adUnitsMapEntry)){var u=m(t.adUnit.code);u.lastGptAuction=u.activeGptAuction,u.activeGptAuction=void 0,e.event.gpt&&!i&&(e.event.gpt.time=d.getSafeTimeDiff(e.event.gpt.start,n,e.event.gpt.time)),C(e,s.get().auctionBidWonEventDelay);var c=!0;for(var f in e.adUnitsMap){var p=e.adUnitsMap[f];if(p.bidsMap[a.state.bidWon]||(c=!1),o(p))return}if(!c){if(!e.event.gpt)return;for(var g in e.adUnitsMap){if(!e.adUnitsMap[g].bidsMap[a.state.bidWon]){var l=T(a.bidder.unused,a.channel.gpt,a.state.bidWon);l.responseTime=d.getSafeTimeDiff(e.start,n),O(e,g,a.state.bidWon,l,a.undefined,!0)}}}}},t.getBidIdHash=function(e,t,n){var i=I(e);if(!i)throw new Error("Cannot find auction for auctionId: "+e);var r=i.bidIdHashMap[t];return!r&&n&&(r=i.bidIdHashMap[t]=o.hexCode(JSON.stringify(n))),r},t.getAdUnitInfo=U,t.getBidInfo=A,t.findBidInfo=function(e,t,n,i){var o=A(e,t,n,i,!0);if(!o)for(var r in w)if(r!=e&&(o=A(r,t,n,i,!0)))break;return o},t.createBid=T,t.addBid=O,t.getBidWonInfo=P,t.addBidWon=M,t.startTimerPostAuctionEvent=C,t.cancelTimerPostAuctionEvent=N},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(0),s=n(1),d=n(2),u=n(10),c=[];function f(){try{for(var e of c)p(e.endpoint,e.eventSource,e.event)}catch(e){s.error("Failed to flush anayltics queue",e)}c=[]}function p(e,t,n){var i=a.get();n.session||(n=d.createEvent(o({},n))),d.setCounter(n),a.forEachIngress(i,e,t,(function(e){u.post(e,n)}))}t.flush=f,t.queue=function(e,t,n){var i=a.get();s.debug("Queuing analytics event",n),c.push({endpoint:e,eventSource:t,event:d.createEvent(o({},n))}),1==c.length&&setTimeout(f,i.eventQueueDelay)},t.post=p},function(e,t,n){var i=n(0),o=n(1),r=n(15),a=n(16),s=n(17),d=n(18),u=n(19),c=n(20),f=n(12),p=n(7),g=n(21),l=n(2),b=(n(3),n(22)),v={version:i.getVersion(),logLevel:2,logFormat:!0,ingress:[{domain:"//argus-fra1.snigelweb.com/ingress/v1",endpoints:{default:{path:"/event/{eventSource}"},auction:{path:"/auction"},error:{path:"/error/{eventSource}",eventSources:{default:{freq:1e-4},argus:{freq:.01},argusDbg:{freq:0},adngin:{freq:.01},adconsent:{freq:.01}}}}},{domain:"//staging-argus-fra1.snigelweb.com/ingress/v1",freq:.001,endpoints:{default:{path:"/event/{eventSource}"},auction:{path:"/auction"},error:{path:"/error/{eventSource}",eventSources:{default:{freq:0}}}}}],prometheusGateway:{autoSend:!1,intervalMs:5e3,maxLoops:5e3,maxMetrics:5e3,endpoints:[{domain:"//argus-fra1.snigelweb.com/ingress/v1",path:"/metricGateway/prometheus"}]},eventQueueDelay:3e3,auctionEventDelay:500,auctionBidWonEventDelay:500,errorQueueDelay:5e3,requestRetryMax:3,requestRetryDelay:1e3,pbjsIgnoreIncompleteEvents:!!(window.snigelPubConf&&window.snigelPubConf.argus&&window.snigelPubConf.argus.pbjsIgnoreIncompleteEvents),pbjsVideoAutoImp:!!(window.snigelPubConf&&window.snigelPubConf.argus&&window.snigelPubConf.argus.pbjsVideoAutoImp),pbjsIgnoreUnfilledUnusedImp:!!(window.snigelPubConf&&window.snigelPubConf.argus&&window.snigelPubConf.argus.pbjsIgnoreUnfilledUnusedImp),tags:{adengineName:r.getAdEngineObjectName(),pbjsName:r.getPbjsObjectName(),gptName:r.getGptObjectName(),aptName:r.getApstagObjectName()}};if(i.set(v),l.get().domain)if(window.argus=window.argus||{cmd:[]},window.argus.getConfig)o.error("Duplicate Argus loading");else{window.argus.getConfig=i.get,window.argus.setConfig=i.set,window.argus.queueEvent=function(e,t){f.queue("default",e,t)},window.argus.queueError=p.queue,window.argus.notify=d.eventListener,window.argus.prometheusMetrics={collect:b.collect,flush:b.flush,startAutoSend:b.startAutoSend},a.init(),s.init(),d.init(),u.init(),c.init();for(var m=0;m<v.ingress.length;m++){var h=document.createElement("argprec"+m);h.rel="preconnect",h.href=v.ingress[m].domain,document.head.appendChild(h)}g.init(),v.prometheusGateway.autoSend&&b.startAutoSend()}else l.get().domain=window.location.host,o.error("Missing Argus domain config")},function(e,t){t.autoDetect=function(){var e=screen.width,t=screen.height;return{cookies:function(e){void 0===(e=!!e)&&(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie"));return e}(navigator.cookieEnabled),w:e,h:t}}},function(e,t){function n(e,t){return window._snigelConfig&&window._snigelConfig.settings&&window._snigelConfig.settings[e]?window._snigelConfig.settings[e].objName:window.snigelPubConf&&window.snigelPubConf.argus&&window.snigelPubConf.argus[e]?window.snigelPubConf.argus[e]:t}t.getAdEngineObjectName=function(){return n("adngin","adngin")},t.getApstagObjectName=function(){return n("apstag","apstag")},t.getGptObjectName=function(){return n("gpt","googletag")},t.getPbjsObjectName=function(){return n("pbjs","pbjs")}},function(e,t,n){var i=n(0),o=n(2),r=n(1),a=n(5),s=n(4),d=n(3);t.init=function(){var e=i.get(),t=o.get();window[e.tags.adengineName]&&window[e.tags.adengineName].queue.push((function(){var n=window[e.tags.adengineName];t.country=n.config.country,t.region=n.config.region,t.adengine={build:n.config.build,configVersion:n.config.id,tagId:n.config.cfwUuid,featureFlags:n.config.featureFlags},n.cmd.getEvents(null,(function(e){e&&e.data&&e.data.forEach((function(e){window.addEventListener(e,(function(t){!function(e,t,n){var i;n=a.validateTimeNow(n),d.isDebugEnabled()&&(i=i||s.cloneObject(t),d.addEvent("adngin",e,i,n)),r.enabled(r.level.info)&&(i=i||s.cloneObject(t),r.info(e,i))}(e,t&&t.detail?t.detail:{})}))}))}))}))}},function(e,t,n){var i=n(2),o=n(1);function r(e,t,n){var r=i.get();r.consentRegion=e,r.consent=t,n||(n="Consent region ["+e+"], consent: "+t),o.debug(n)}t.init=function(){window.__tcfapi?__tcfapi("addEventListener",2,(function(e,t){if(!t||!1!==e.gdprApplies&&"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus)t&&"cmpuishown"===e.eventStatus&&r("gdpr",void 0,"Consent unknown, waiting for user input");else{var n="none",i=!0;if(e.gdprApplies){n="gdpr";var a=e.vendor?e.vendor.consents:void 0,s=e.purpose?e.purpose.consents:void 0;if(i=a&&s)for(var d=[755,1076,32],u=0,c=d.length;u<c;++u)if(!e.vendor.consents[d[u]]){o.debug("[gdpr] no vendor consent"),i=!1;break}if(i){var f=Object.keys(e.purpose.consents);if(i=f.length>0)for(var p=0,g=f.length;p<g;++p)if(!e.purpose.consents[f[p]]){o.debug("[gdpr] no purpose consent"),i=!1;break}}}else{if(window.__uspapi)return void __uspapi("getUSPData",1,(function(e,t){t&&"1---"!=e.uspString&&(n="ccpa","Y"==e.uspString.toUpperCase().charAt(2)&&(o.debug("[ccpa] no consent"),i=!1)),r(n,i)}));o.debug("__uspapi not found")}r(n,i)}})):o.debug("__tcfapi not found")}},function(e,t,n){var i=n(0),o=n(2),r=n(1),a=n(7),s=n(11),d=n(6),u=n(5),c=n(4),f=n(3),p={pbjs:{auctionInit:function(e,t){s.initPbjsAuction(e,t)},auctionEnd:function(e,t){var n=s.getAuction(e.auctionId);if(!n){var o=e.auctionEnd-e.timestamp,a=t;a>o&&(a-=o),n=s.initPbjsAuction(e,a),e.bidderRequests.forEach((function(e){l("bidRequested",e,t,!0)})),e.bidsReceived.forEach((function(e){l("bidResponse",e,t,!0)})),e.noBids.forEach((function(e){l("noBid",e,t,!0)})),e.winningBids.forEach((function(e){l("bidWon",e,t,!0)}))}n.event.pbjs.userId=function(e){var t={state:"notAvailable",modules:[],resolved:0,configured:0},n=i.get(),o=window[n.tags.pbjsName],a=o.getConfig();a.userSync&&a.userSync.userIds&&(t.configured=a.userSync.userIds.length);if(0==e.length)return t;function s(e,t){var n=!0;if(t){var i=0;for(var o in t)i++,-1==e.indexOf(o)&&(e.push(o),n=!1);e.length!=i&&(n=!1)}else e.length>0&&(n=!1);return n}var d=!0,u=!0;e.forEach((function(e){e.bids.forEach((function(e){u?(u=!1,e.userId&&(t.modules=Object.keys(e.userId||{}))):e.userId&&(d=d&&s(t.modules,e.userId))}))})),d=d&&s(t.modules,o.getUserIds()),t.resolved=t.modules.length,t.modules.length>0&&d?t.state="available":t.modules.length>0&&!d&&(t.state="notConsistent",r.debug("pbjs inconsistent userIds"));return t}(e.bidderRequests),e.bidderRequests.forEach((function(e){b(e,n,d.state.bidTimeout)})),s.endPbjsAuction(n,e,t),s.startTimerPostAuctionEvent(n,i.get().auctionEventDelay)},bidRequested:function(e){if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;e.bids.forEach((function(t){var n="s2s"===t.src?d.channel.pbs:d.channel.pb;t.bidder===d.bidder.amazon&&(n=d.channel.aps);var i=s.createBid(t.bidder,n);i.id=s.getBidIdHash(e.auctionId,t.bidId,t.params),s.addBid(e.auctionId,t.adUnitCode,t.bidId,i)}))},bidResponse:function(e){if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;var t=s.getBidInfo(e.auctionId,e.adUnitCode,e.requestId),n=c.cloneObject(t.bid);n.state==d.state.bidTimeout?(n.state=d.state.bidResponseTimeout,n.channel==d.channel.pbs&&void 0===n.serverResponseTime&&(n.serverResponseTime=n.serverTimeout)):n.state=d.state.bidResponse;n.cpm=e.cpm,n.currency=e.currency,n.size=e.size,!n.size&&e.width&&e.height&&(n.size=e.width+"x"+e.height);"undefinedxundefined"==n.size&&(n.size="1x1");n.mediaType=e.mediaType,n.responseTime=e.timeToRespond,n.channel===d.channel.aps&&(n.bidder=e.subBidder||n.bidder);e.status==d.state.bidRejected&&(n.state=d.state.bidRejected,0==e.cpm&&e.floorData&&e.floorData.cpmAfterAdjustments&&(n.cpm=e.floorData.cpmAfterAdjustments));s.addBid(e.auctionId,e.adUnitCode,e.requestId,n,e.adId)},noBid:function(e,t){if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;var n=s.getBidInfo(e.auctionId,e.adUnitCode,e.bidId),o=n.bid;void 0===o.state&&(o.state=d.state.noBid,o.responseTime=u.getSafeTimeDiff(n.auction.start,t))},bidTimeout:function(e){if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;e.forEach((function(e){var t=s.getBidInfo(e.auctionId,e.adUnitCode,e.bidId).bid;void 0===t.state&&(t.state=d.state.bidTimeout)}))},bidderDone:function(e){if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;b(e)},bidWon:function(e,t){function n(t){return new Error(t+" for "+e.requestId+", adId"+e.adId+" for ad-unit "+e.adUnitCode+" for auction "+e.auctionId)}if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;var o=s.findBidInfo(e.auctionId,e.adUnitCode,e.requestId,e.adId);if(!o)throw n("Cannot find initial bidResponse for bidWon");if(o.bidWonInfo)throw n("bidWon exists");var r=i.get().pbjsVideoAutoImp||o.bid.mediaType!==d.mediaType.video,a=c.cloneObject(o.bid);a.state=d.state.bidWon;var f=s.addBidWon(e.auctionId,e.adUnitCode,a,r,t,!0);f.bid.responseTime=u.getSafeTimeDiff(f.auction.start,t,a.responseTime),o.bidWonInfo=f,s.endAdUnitAuction(f.auction,f,t,!0)},auctionDebug:function(e){"WARNING"!=e.type&&a.queue("prebid",c.serializePbjsEvent(e))},adRenderFailed:function(e){a.queue("prebid",e)},tcf2Enforcement:function(e){a.queue("prebid",e)}},video:{loaded:v,start:v,impression:function(e,t){function n(t){return new Error(t+" for "+e.requestId+", adId"+e.adId+" for ad-unit "+e.adUnitCode+" for auction "+e.auctionId)}if(i.get().pbjsIgnoreIncompleteEvents&&!s.getAuction(e.auctionId))return;if(i.get().pbjsVideoAutoImp)return;var o=s.findBidInfo(e.auctionId,e.adUnitCode,e.requestId,e.adId);if(!o)throw n("Cannot find initial bidResponse for videoImp");var r=o.bidWonInfo;if(!r)throw n("Missing bidWon");if(o.bidImpInfo)throw n("bidImp exists");if(r.bid.mediaType!==d.mediaType.video)throw n("No video");var a=c.cloneObject(r.bid);a.state=d.state.bidImp,a.update=void 0;var f=s.addBid(r.auction,r.adUnit.code,d.state.bidImp,a);f.bid.responseTime=u.getSafeTimeDiff(f.auction.start,t,a.responseTime),o.bidImpInfo=r.bidImpInfo=f,s.endAdUnitAuction(f.auction,f,t,!0)},firstQuartile:v,midpoint:v,thirdQuartile:v,complete:v,pause:v,resume:v,mute:v,unmute:v}};function g(e,t,n,i,o){var a=(p[e]||{})[t];if(a){var s;i=u.validateTimeNow(i),f.isDebugEnabled()&&!o&&(s=s||c.serializePbjsEvent(n),f.addEvent(e,t,s,i)),r.enabled(r.level.info)&&(s=s||c.serializePbjsEvent(n),r.info(t,s));try{a(n,i)}catch(e){s=s||c.serializePbjsEvent(n),r.error(t,e,s)}}}function l(e,t,n,i){g("pbjs",e,t,n,i)}function b(e,t,n){function i(t,i){i.state=i.state||n,"s2s"==t.src&&(u.updateValueWhenUndefined(i,"responseTime"),i.serverResponseTime=e.serverResponseTimeMs||i.serverResponseTime,i.serverTimeout=e.timeout||i.serverTimeout)}t=t||e.auctionId,e.bids.forEach((function(e){var n=s.getBidInfo(t,e.adUnitCode,e.bidId);i(e,n.bid),n.bidResponses.forEach((function(t){i(e,t.bid)}))}))}function v(e){}t.eventListener=g,t.init=function(){var e=i.get(),t=o.get();window[e.tags.pbjsName]=window[e.tags.pbjsName]||{que:[]},window[e.tags.pbjsName].que.push((function(){var n=window[e.tags.pbjsName];t.pbjs={version:n.version};var i=function(e){n.onEvent(e,(function(t,n){l(e,t,n)}))};for(var o in p.pbjs)i(o);n.getEvents().forEach((function(e){l(e.eventType,e.args,e.elapsedTime)}))}))}},function(e,t,n){var i=n(0),o=n(2),r=n(1),a=n(11),s=n(6),d=n(5),u=n(4),c=n(3),f={slotRequested:function(e,t){a.initGptAuction(e,t)},slotResponseReceived:function(e,t){var n=e.slot.getSlotElementId(),i=a.getActiveGptAuction(n);if(i){a.getAdUnitInfo(i,n).adUnitsMapEntry.gpt.end=t,i.event.gpt.time=d.getSafeTimeDiff(i.event.gpt.start,t)}},slotRenderEnded:function(e,t){var n=e.slot.getSlotElementId(),i=a.getActiveGptAuction(n);if(i){var o=a.getAdUnitInfo(i,n),r=o.adUnitsMapEntry.gpt;r.end=r.end||t,r.time=d.getSafeTimeDiff(r.start,r.end),r.renderEnded=!0;var u={campaignId:e.campaignId||void 0,lineItemId:e.lineItemId||e.sourceAgnosticLineItemId||void 0,targetingMap:r.targetingMap},c=a.getBidWonInfo(o);if(!c){var f=a.createBid(s.bidder.unfilled,s.channel.gpt,s.state.bidWon);f.responseTime=d.getSafeTimeDiff(i.start,t),!0!==e.isEmpty&&(f.bidder=s.bidder.gam,e.size&&2==e.size.length&&(f.size=e.size[0]+"x"+e.size[1])),c=a.addBidWon(i,o.adUnit.code,f,!0,t,!1)}c.bid.gam=u,c.bidImpInfo&&(c.bidImpInfo.bid.gam=u),a.endAdUnitAuction(i,o,t)}},slotOnload:function(e,t){},slotVisibilityChanged:function(e,t){},impressionViewable:function(e,t){}};t.init=function(){var e=i.get(),t=o.get();window[e.tags.gptName]=window[e.tags.gptName]||{cmd:[]},window[e.tags.gptName].cmd.push((function(){var n=window[e.tags.gptName];t.gpt={version:n.getVersion()};var i=function(e){n.pubads().addEventListener(e,(function(t,n){!function(e,t,n,i){var o=f[e];if(o){var a;n=d.validateTimeNow(n),c.isDebugEnabled()&&!i&&(a=a||u.serializeGptEvent(t),c.addEvent("gpt",e,a,n)),r.enabled(r.level.info)&&(a=a||u.serializeGptEvent(t),r.info(e,a));try{"publisher_ads"==t.serviceName?o(t,n):r.debug("Invalid gpt event")}catch(n){a=a||u.serializeGptEvent(t),r.error(e,n,a)}}}(e,t,n)}))};for(var o in f)i(o)}))}},function(e,t,n){var i=n(0),o=n(2);t.init=function(){var e=i.get(),t=o.get();window[e.tags.aptName]&&(t.apt={version:"0"})}},function(e,t,n){var i=n(1);function o(e){try{"function"==typeof e?e():i.warn("Cannot execute command, because not a function",e)}catch(e){i.error("execute command failed",e)}}t.init=function(){window.argus.cmd&&window.argus.cmd.length>0&&function(e){for(;e.length>0;)o(e[0]),e.splice(0,1)}(window.argus.cmd),window.argus.cmd={push:o}}},function(e,t,n){var i=n(0),o=n(1),r=n(23),a={},s=0;t.collect=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"counter",d="{"+Object.keys(t).map(e=>e+'="'+t[e]+'"').join(",")+"}";a[e]||(a[e]={type:r,labels:{}});var u=a[e];if(u.type===r){if(!u.labels[d]){if(s>=i.get().prometheusGateway.maxMetrics)return void o.error("PrometheusMetrics: Max metrics buffer size reached");s++,u.labels[d]=0}"counter"===r?u.labels[d]+=n:"gauge"===r&&(u.labels[d]=n)}else o.error("PrometheusMetrics: Metric type mismatch for "+e)};var d=()=>{if(s>0){var e=(e=>Object.keys(e).map(t=>{var n=e[t],i=Object.keys(n.labels).map(e=>t+e+" "+n.labels[e]+"\n").join("");return i?"# TYPE "+t+" "+n.type+"\n"+i:""}).join(""))(a),t=new Blob([e],{type:"text/plain"});i.get().prometheusGateway.endpoints.forEach(e=>{var n=e.domain+e.path,i=navigator.sendBeacon(n,t);o.debug("PrometheusMetrics: Beacon status: "+i+" to "+n)}),s=0,a={}}};t.flush=d;var u=null,c=0;t.startAutoSend=()=>{null===u?(u=setInterval(()=>{c++,d(),c>=i.get().prometheusGateway.maxLoops&&(clearInterval(u),u=null,r.removeCallback(d),o.debug("PrometheusMetrics: Auto-send stopped after too many loops"))},i.get().prometheusGateway.intervalMs),r.onExit(d)):o.debug("PrometheusMetrics: Auto-send is already running")}},function(e,t){var n=[],i=!1,o=()=>{n.forEach(e=>{if(!e.isCalled){e.isCalled=!0,e.callback();var t=setTimeout(()=>{e.isCalled=!1},e.delayMs);e.timeoutId=t}})},r=()=>{i=!0,document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&o()}),window.addEventListener("beforeunload",o),window.addEventListener("pagehide",o)};t.onExit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;n.push({callback:e,delayMs:t,isCalled:!1,timeoutId:null}),i||r()};t.removeCallback=e=>{var t=n.findIndex(t=>t.callback===e);-1!==t&&(n[t].timeoutId&&clearTimeout(n[t].timeoutId),n.splice(t,1))};t.clearCallbacks=()=>{n.forEach(e=>{e.timeoutId&&clearTimeout(e.timeoutId)}),n.length=0}}]);